<!-- views/pages/booklist.ejs -->
<link rel="stylesheet" href="/css/book.css">


<!--begin::App Main-->
<main class="content">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="book-list row g-3">
                <% if (books && books.length > 0) { %>
                    <% books.forEach(book => { %>
                        <div class="col-4 col-md-6 col-lg-3">
                            <div class="small-box bg-light">
                                <a href="/book/<%= book.id %>">
                                    <img src="<%= book.cover_image %>" class="book-cover" alt="<%= book.title %>">
                                    <div class="inner">
                                        <h3 class="book-title">
                                            <%= book.title %>
                                        </h3>
                                    </div>
                                    <i class="small-box-icon fas fa-book"></i>
                                </a>
                            </div>
                        </div>
                    <% }) %>
                <% } else { %>
                    <div class="col-12 text-center">
                        <p class="text-muted">책이 없습니다.</p>
                    </div>
                <% } %>
            </div>
        </div>
    </div>
</main>
<!--end::App Main-->

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script src="/js/bookscript.js"></script>

<style>
    /* 책 목록 스타일 */
    .book-list {
        padding: 20px 0;
    }

    .small-box {
        position: relative;
        border: 1px solid #dee2e6; /* 얇은 회색 테두리 */
        border-radius: 8px;
        overflow: hidden;
        background-color: #f8f9fa; /* dashboard의 bg-light 스타일 */
        height: 400px; /* 카드 전체 높이 고정 */
        display: flex;
        flex-direction: column;
    }

    .book-cover {
        width: 100%;
        height: 80%; /* 이미지 영역 80% */
        object-fit: cover; /* 이미지가 고정된 높이에 맞게 조정됨 */
        border-bottom: 1px solid #dee2e6;
    }

    .inner {
        height: 20%; /* 제목 영역 20% */
        padding: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .book-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: #333;
        margin: 0;
        text-align: center;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 100%;
    }

    .small-box-icon {
        position: absolute;
        top: 15px;
        right: 15px;
        font-size: 2rem;
        color: #007bff; /* 아이콘 색상 */
        opacity: 0.3;
    }

    /* 반응형 스타일 */
    @media (max-width: 768px) {
        .small-box {
            height: 300px; /* 모바일에서 카드 높이 조정 */
        }

        .book-cover {
            height: 80%; /* 비율 유지 */
        }

        .inner {
            height: 20%; /* 비율 유지 */
        }

        .book-title {
            font-size: 1rem; /* 모바일에서 제목 크기 조정 */
        }

        .small-box-icon {
            font-size: 1.5rem;
        }
    }

    @media (max-width: 576px) {
        .small-box {
            height: 250px; /* 작은 화면에서 카드 높이 조정 */
        }

        .book-cover {
            height: 80%; /* 비율 유지 */
        }

        .inner {
            height: 20%; /* 비율 유지 */
        }

        .book-title {
            font-size: 0.9rem;
        }

        .small-box-icon {
            font-size: 1.2rem;
        }

        .small-box {
            margin-bottom: 10px; /* 카드 간 간격 조정 */
        }
    }
</style>